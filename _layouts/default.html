<!DOCTYPE html>
<html lang="{{ page.lang | default: "en" }}">
<head>
  {%- include head.html -%}
</head>
<body a="{{ site.theme_config.appearance | default: "dark" }}">
  <main class="page-content" aria-label="Content">
    <div class="w">
      <div id="boot-screen">
        <pre id="boot-text"></pre>
      </div>

      {{ content }}
    </div>

    {%- if site.goat_counter and jekyll.environment == "production" -%}
      {%- include goat_counter.html -%}
    {%- endif -%}

    {% if page.custom_js %}
      {% for js_file in page.custom_js %}
        <script type="text/javascript" src="{{ site.baseurl }}/assets/js/{{ js_file }}.js"></script>
      {% endfor %}
    {% endif %}

    <script src="{{ '/assets/js/booteffect.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/oneko.js' | relative_url }}"></script>

    <script>
      // Hide boot screen and show content when boot effect finishes
      window.onload = function() {
        var bootScreen = document.getElementById('boot-screen');
        bootScreen.style.display = 'none'; // Hide boot screen
        document.querySelector('.w').style.display = 'block'; // Show content
      };
    </script>
  </main>
</body>
</html>
